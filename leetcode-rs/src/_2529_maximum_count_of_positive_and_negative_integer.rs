use std::cmp::max;

enum Solution {}

impl Solution {
    // pub fn maximum_count_linear(nums: Vec<i32>) -> i32 {
    //     let n = nums.len();
    //     // binary search for the first positive number in nums
    //     let mut negative = 0;
    //     let mut positive = 0;
    //     let mut i = 0;
    //     while i < n && nums[i] < 0 {
    //         negative += 1;
    //         i += 1;
    //     }
    //     while i < n && nums[i] == 0 {
    //         i += 1;
    //     }
    //     while i < n {
    //         positive += 1;
    //         i += 1;
    //     }
    //     max(positive, negative)
    // }

    pub fn maximum_count(nums: Vec<i32>) -> i32 {
        let n = nums.len();
        // edge case where all entries in nums are positive
        if nums.first().unwrap() > &0 {
            return n as i32;
        }
        // edge case where all entries are 0 {
        if nums.first().unwrap() == &0 && nums.last().unwrap() == &0 {
            return 0;
        }
        // case where all entries are <= 0
        if nums.first().unwrap() <= &0 && nums.last().unwrap() <= &0 {
            let mut negatives = n;
            while negatives > 0 && nums[negatives - 1] == 0 {
                negatives -= 1;
            }
            return negatives as i32;
        }
        // binary search for the first positive number
        let mut left = 1;
        let mut right = n - 1;
        let mut idx = (left + right) / 2;
        while left < right && !(nums[idx] > 0 && nums[idx - 1] < 1) {
            // println!("bsearch at idx {}, left={}, right={}", idx, left, right);
            if nums[idx] >= 1 {
                right = idx;
            } else {
                left = idx;
            }
            idx = (left + right) / 2;
        }
        // println!("Final Idx {}", idx);
        let positive = n - idx;

        let mut negative = idx;
        // println!("Removing zeros");
        while negative > 1 && nums[negative - 1] == 0 {
            negative -= 1;
        }

        max(negative, positive) as i32
    }
}

fn main() {
    // println!("{}", Solution::maximum_count(vec![-2, -1, -1, 1, 2, 3]));
    // println!("{}", Solution::maximum_count(vec![-3, -2, -1, 0, 0, 1, 2]));
    // println!("{}", Solution::maximum_count(vec![5, 20, 66, 1314]));
    println!("{}", Solution::maximum_count(vec![-2, -1, -1, 0, 0]));
    println!("{}", Solution::maximum_count(vec![-1]));
    println!("{}", Solution::maximum_count(vec![-1, 0]));
    println!("{}", Solution::maximum_count(vec![0, 0, 0, 0, 0, 0]));
    println!("{}", Solution::maximum_count(vec![-1995,-1994,-1993,-1993,-1992,-1991,-1983,-1981,-1979,-1974,-1974,-1973,-1971,-1970,-1968,-1967,-1967,-1962,-1959,-1958,-1957,-1956,-1954,-1952,-1944,-1942,-1939,-1938,-1938,-1935,-1934,-1934,-1929,-1929,-1928,-1927,-1925,-1915,-1915,-1914,-1912,-1909,-1909,-1909,-1908,-1908,-1904,-1902,-1901,-1893,-1890,-1890,-1883,-1881,-1881,-1879,-1875,-1872,-1870,-1869,-1869,-1867,-1867,-1867,-1867,-1865,-1863,-1862,-1859,-1854,-1854,-1854,-1854,-1853,-1853,-1851,-1848,-1848,-1841,-1840,-1838,-1837,-1833,-1832,-1832,-1832,-1826,-1822,-1822,-1819,-1819,-1819,-1818,-1815,-1814,-1813,-1811,-1811,-1807,-1805,-1805,-1804,-1803,-1802,-1800,-1800,-1799,-1799,-1799,-1796,-1795,-1793,-1786,-1785,-1785,-1783,-1781,-1781,-1781,-1778,-1778,-1777,-1775,-1775,-1772,-1772,-1768,-1767,-1767,-1761,-1760,-1757,-1755,-1754,-1752,-1747,-1743,-1742,-1742,-1740,-1738,-1738,-1737,-1736,-1734,-1733,-1728,-1725,-1724,-1723,-1723,-1719,-1715,-1714,-1712,-1712,-1710,-1709,-1709,-1708,-1707,-1707,-1703,-1693,-1692,-1691,-1687,-1686,-1686,-1678,-1675,-1675,-1670,-1669,-1667,-1666,-1666,-1666,-1665,-1661,-1661,-1661,-1657,-1656,-1653,-1650,-1646,-1645,-1644,-1643,-1642,-1640,-1639,-1638,-1637,-1634,-1633,-1631,-1630,-1629,-1629,-1627,-1626,-1624,-1618,-1616,-1615,-1613,-1611,-1610,-1607,-1606,-1606,-1603,-1603,-1601,-1599,-1599,-1599,-1596,-1592,-1592,-1591,-1591,-1587,-1583,-1581,-1580,-1577,-1575,-1573,-1573,-1568,-1567,-1565,-1565,-1558,-1557,-1555,-1555,-1552,-1551,-1546,-1542,-1541,-1538,-1535,-1531,-1530,-1530,-1530,-1530,-1527,-1525,-1520,-1518,-1518,-1517,-1511,-1511,-1510,-1506,-1504,-1501,-1499,-1495,-1489,-1482,-1477,-1476,-1475,-1474,-1470,-1466,-1466,-1466,-1461,-1461,-1461,-1457,-1454,-1453,-1453,-1448,-1446,-1446,-1445,-1443,-1443,-1441,-1440,-1439,-1439,-1438,-1437,-1436,-1435,-1435,-1434,-1432,-1431,-1429,-1420,-1412,-1410,-1410,-1409,-1408,-1407,-1407,-1403,-1401,-1401,-1399,-1397,-1395,-1394,-1387,-1386,-1385,-1383,-1383,-1383,-1382,-1379,-1377,-1376,-1373,-1373,-1371,-1370,-1369,-1368,-1366,-1366,-1361,-1358,-1357,-1357,-1356,-1355,-1354,-1353,-1352,-1351,-1350,-1346,-1345,-1343,-1343,-1343,-1341,-1340,-1338,-1338,-1337,-1333,-1333,-1327,-1327,-1327,-1325,-1322,-1320,-1317,-1312,-1310,-1307,-1307,-1305,-1303,-1302,-1301,-1291,-1286,-1286,-1282,-1280,-1278,-1271,-1270,-1267,-1265,-1259,-1257,-1253,-1252,-1244,-1242,-1236,-1235,-1235,-1232,-1230,-1228,-1226,-1221,-1216,-1215,-1215,-1215,-1215,-1213,-1212,-1210,-1206,-1205,-1204,-1199,-1198,-1197,-1196,-1187,-1185,-1181,-1180,-1180,-1179,-1179,-1178,-1178,-1174,-1170,-1169,-1169,-1166,-1165,-1164,-1163,-1162,-1160,-1158,-1155,-1153,-1153,-1153,-1145,-1144,-1142,-1139,-1138,-1136,-1135,-1135,-1134,-1126,-1118,-1117,-1116,-1116,-1115,-1115,-1113,-1113,-1108,-1108,-1105,-1105,-1097,-1094,-1093,-1090,-1085,-1081,-1079,-1078,-1076,-1073,-1064,-1053,-1053,-1053,-1052,-1052,-1052,-1051,-1051,-1049,-1047,-1047,-1044,-1037,-1035,-1034,-1030,-1030,-1030,-1029,-1029,-1027,-1025,-1021,-1016,-1015,-1013,-1012,-1003,-1001,-1001,-999,-999,-998,-998,-995,-992,-991,-989,-989,-988,-984,-983,-978,-976,-974,-972,-971,-970,-965,-958,-956,-955,-953,-950,-949,-948,-947,-944,-943,-943,-940,-938,-933,-932,-931,-931,-926,-922,-918,-916,-915,-912,-911,-911,-909,-909,-908,-907,-903,-901,-901,-899,-895,-894,-894,-892,-891,-891,-888,-888,-887,-884,-881,-881,-878,-878,-875,-865,-865,-865,-864,-863,-862,-860,-858,-857,-852,-851,-849,-849,-845,-845,-842,-842,-842,-841,-836,-833,-822,-821,-819,-812,-810,-808,-807,-804,-802,-794,-792,-790,-788,-788,-785,-780,-779,-779,-776,-776,-773,-773,-769,-765,-761,-760,-760,-760,-759,-759,-758,-754,-754,-750,-749,-748,-745,-739,-738,-736,-736,-733,-730,-724,-720,-719,-716,-715,-711,-711,-708,-706,-705,-704,-702,-698,-693,-690,-683,-681,-679,-677,-676,-670,-670,-668,-666,-661,-659,-656,-656,-655,-654,-652,-647,-644,-643,-641,-639,-639,-638,-637,-636,-634,-630,-630,-628,-627,-623,-622,-622,-622,-622,-621,-618,-616,-615,-614,-612,-608,-607,-606,-601,-600,-599,-597,-594,-591,-589,-588,-587,-586,-585,-582,-581,-580,-579,-578,-578,-576,-573,-572,-572,-571,-570,-562,-558,-554,-551,-544,-543,-540,-538,-538,-536,-536,-534,-534,-533,-533,-532,-532,-531,-526,-525,-519,-518,-517,-515,-515,-511,-506,-501,-498,-495,-494,-490,-489,-489,-488,-486,-481,-478,-476,-471,-466,-466,-465,-464,-462,-462,-461,-459,-459,-458,-458,-457,-457,-452,-447,-444,-444,-439,-439,-434,-434,-433,-432,-431,-430,-427,-426,-424,-420,-416,-416,-414,-413,-413,-408,-407,-403,-402,-400,-398,-394,-387,-385,-382,-382,-382,-381,-380,-380,-378,-377,-374,-371,-370,-370,-365,-364,-363,-361,-358,-358,-356,-355,-354,-354,-353,-351,-350,-350,-349,-347,-347,-346,-345,-343,-342,-342,-341,-337,-337,-336,-334,-328,-328,-327,-324,-312,-310,-310,-309,-308,-308,-301,-301,-290,-289,-287,-287,-283,-281,-280,-274,-271,-268,-267,-267,-262,-259,-259,-255,-252,-250,-249,-249,-248,-236,-235,-235,-231,-230,-227,-226,-222,-222,-219,-215,-213,-210,-205,-203,-200,-199,-199,-198,-196,-195,-190,-187,-187,-186,-182,-182,-180,-180,-178,-178,-177,-176,-174,-173,-170,-170,-169,-167,-165,-161,-158,-156,-151,-149,-147,-144,-144,-140,-140,-137,-136,-135,-134,-132,-130,-129,-127,-126,-125,-124,-123,-122,-120,-119,-117,-115,-115,-108,-107,-105,-105,-103,-103,-103,-102,-96,-95,-94,-93,-93,-91,-86,-85,-85,-77,-77,-75,-72,-70,-70,-65,-65,-64,-59,-58,-53,-51,-51,-50,-42,-40,-36,-34,-33,-33,-33,-32,-27,-26,-26,-24,-21,-16,-16,-15,-13,-11,-11,-9,-7,-1,1,1,2,3,9,15,16,18,23,26,26,27,33,33,33,35,35,36,37,38,39,41,42,43,44,46,46,46,49,51,52,54,56,56,59,63,66,66,66,68,69,72,74,75,80,81,82,83,86,86,86,87,89,91,93,96,97,98,98,101,103,104,106,108,109,110,112,115,116,120,123,126,126,128,128,131,135,137,145,145,147,147,147,148,149,151,152,155,155,156,159,160,163,164,165,168,169,170,171,171,175,176,178,182,184,185,187,190,190,193,197,197,204,205,206,206,208,208,209,211,214,216,218,219,221,222,225,228,228,228,233,233,234,238,238,241,241,242,243,247,247,247,251,251,252,252,256,261,262,265,268,270,270,274,275,275,277,281,281,283,283,284,285,289,293,294,294,295,297,298,299,307,308,308,308,311,312,315,315,319,323,324,324,325,325,327,327,328,331,333,333,335,335,338,339,340,348,349,349,350,355,356,357,365,365,368,373,373,376,377,378,379,379,381,381,381,382,383,387,387,388,392,393,393,395,404,407,409,412,416,417,418,420,421,422,425,426,427,430,430,432,435,436,438,438,439,439,440,443,445,446,448,448,450,452,453,455,458,459,459,460,462,467,468,469,469,471,473,477,479,481,481,481,482,486,488,492,493,499,501,505,505,512,512,513,513,514,516,517,517,517,518,522,522,523,527,527,529,532,534,535,537,539,540,550,553,554,555,559,560,562,568,570,570,571,573,574,575,576,580,581,582,582,583,586,587,590,591,593,597,599,599,599,599,600,608,608,612,613,614,614,620,621,622,623,625,625,626,626,627,628,633,640,642,642,643,643,645,648,650,660,664,664,669,672,672,674,674,678,683,683,686,689,690,692,695,695,696,701,704,706,710,712,712,712,713,714,715,716,720,722,723,727,730,731,732,734,734,735,739,741,752,753,753,753,754,755,755,757,760,760,762,764,766,768,770,773,773,773,777,777,781,784,789,790,791,795,796,797,804,805,805,810,812,812,813,814,814,816,819,819,819,823,828,829,829,830,834,837,837,838,839,839,841,841,843,843,847,848,848,849,850,854,855,855,858,862,862,863,864,866,870,870,871,874,876,881,882,886,888,890,891,892,892,892,893,895,897,897,900,901,911,912,912,912,913,914,915,916,921,927,927,928,930,930,933,934,934,938,939,939,939,940,942,947,954,955,957,958,960,961,965,965,969,972,973,974,976,977,979,982,983,984,987,988,991,991,992,992,994,995,995,1003,1008,1010,1011,1015,1015,1017,1023,1024,1027,1031,1031,1033,1034,1041,1045,1047,1048,1051,1056,1057,1057,1058,1058,1059,1060,1061,1064,1064,1065,1070,1071,1073,1075,1077,1078,1078,1078,1078,1080,1082,1086,1090,1090,1091,1092,1093,1093,1096,1100,1100,1103,1104,1108,1109,1111,1112,1114,1115,1117,1119,1120,1124,1125,1127,1128,1130,1131,1134,1135,1135,1141,1141,1143,1146,1146,1154,1162,1163,1165,1167,1169,1170,1170,1170,1172,1172,1172,1177,1179,1180,1182,1184,1186,1189,1189,1190,1190,1191,1192,1194,1194,1195,1198,1198,1199,1200,1213,1216,1221,1222,1222,1222,1226,1228,1232,1233,1235,1237,1240,1242,1244,1244,1246,1248,1256,1258,1261,1263,1264,1267,1278,1284,1287,1288,1288,1290,1290,1294,1295,1295,1298,1300,1307,1310,1311,1313,1317,1318,1321,1324,1326,1327,1331,1331,1334,1334,1335,1336,1337,1337,1338,1345,1345,1349,1350,1353,1354,1355,1359,1359,1360,1364,1365,1367,1373,1376,1377,1380,1386,1386,1389,1389,1389,1391,1393,1398,1399,1399,1399,1400,1401,1403,1403,1408,1412,1413,1414,1420,1420,1420,1420,1422,1422,1423,1425,1429,1430,1430,1436,1441,1442,1457,1458,1459,1461,1462,1464,1465,1465,1466,1467,1468,1474,1477,1479,1479,1484,1487,1487,1487,1489,1490,1493,1495,1499,1502,1509,1509,1515,1515,1515,1516,1517,1519,1522,1526,1531,1531,1532,1534,1535,1535,1538,1538,1539,1544,1550,1552,1556,1565,1568,1569,1569,1571,1572,1576,1579,1581,1584,1589,1593,1594,1594,1594,1597,1598,1600,1602,1605,1607,1608,1610,1612,1613,1624,1625,1625,1628,1628,1634,1636,1639,1643,1644,1645,1647,1647,1652,1653,1658,1660,1661,1663,1664,1668,1671,1675,1675,1676,1683,1687,1687,1688,1689,1690,1693,1696,1697,1698,1699,1699,1700,1700,1707,1708,1710,1714,1716,1718,1719,1720,1721,1722,1724,1725,1726,1728,1728,1731,1737,1738,1739,1740,1742,1744,1745,1746,1747,1747,1747,1748,1748,1752,1754,1755,1766,1768,1770,1775,1776,1777,1777,1777,1779,1779,1779,1780,1781,1782,1787,1794,1795,1795,1796,1796,1798,1799,1800,1800,1802,1806,1806,1808,1810,1814,1814,1814,1816,1819,1820,1822,1822,1823,1825,1827,1829,1833,1835,1839,1840,1844,1844,1846,1847,1850,1854,1855,1858,1859,1867,1870,1873,1875,1878,1881,1884,1884,1886,1887,1887,1887,1894,1896,1898,1899,1902,1905,1907,1908,1910,1912,1913,1914,1916,1916,1920,1922,1923,1926,1927,1927,1935,1940,1940,1941,1941,1944,1951,1951,1953,1953,1953,1955,1955,1955,1956,1956,1959,1960,1960,1965,1965,1968,1979,1980,1985,1991,1993]));
}